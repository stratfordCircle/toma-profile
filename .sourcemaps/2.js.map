{"version":3,"sources":["../../src/pages/conferences/conferences.module.ts","../../src/pages/conferences/conferences.ts"],"names":["ConferencesPageModule","__decorate","Object","__WEBPACK_IMPORTED_MODULE_0__angular_core__","declarations","__WEBPACK_IMPORTED_MODULE_2__conferences__","imports","__WEBPACK_IMPORTED_MODULE_1_ionic_angular__","forChild","ConferencesPage","confProv","navParams","_ALERT","_DB","srk","cookieService","_this","this","signDate","Date","totalCredits","total_1A","total_1A_base","total_ME_1A","total_RM_1A","dupSubtractFromTotal","collectionName","alreadySigned","printOption","conferenceName","get","console","log","associationName","introContent","longConferenceName","dateAndLocation","endContent","inquiryInfo","mailTo","isAdmin","getMemberProfile","then","data","token_credential","credential","token_first","firstName","token_last","lastName","token_middle","middleName","getProfileCookies","token_suffix","suffix","token_membertype","memberType","token_Num","aoa_num_enc","getReportRecords","prototype","getRecordsForCertificate","i","undefined","parseFloat","hours","attested","isNaN","credit_type","printPage","create","title","subTitle","buttons","text","handler","setTimeout","window","print","role","present","selector","template","__WEBPACK_IMPORTED_MODULE_2__providers_conf_days_processes_conf_days_processes__","__WEBPACK_IMPORTED_MODULE_3__providers_database_database__","__WEBPACK_IMPORTED_MODULE_4__providers_srk_services_srk_services__","__WEBPACK_IMPORTED_MODULE_5_ngx_cookie_service__"],"mappings":"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","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ConferencesPage } from './conferences';\n\n@NgModule({\n  declarations: [\n    ConferencesPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ConferencesPage),\n  ],\n})\nexport class ConferencesPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/conferences/conferences.module.ts","import { Component } from '@angular/core';\n// import { CookieService } from \"ngx-cookie-service\";\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { AlertController } from 'ionic-angular';\nimport { ConfDaysProcessesProvider } from \"../../providers/conf-days-processes/conf-days-processes\";\nimport { DatabaseProvider } from '../../providers/database/database';\nimport { SrkServicesProvider } from '../../providers/srk-services/srk-services';\nimport { CookieService } from \"ngx-cookie-service\";\n\n/**\n * Generated class for the ConferencesPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-conferences',\n  templateUrl: 'conferences.html',\n})\nexport class ConferencesPage {\n\n  token_first: string;\n  token_last: string; \n  token_middle: string; \n  token_Num: string; \n  token_membertype: string;\n  token_suffix: string;\n  token_credential: string;\n  signDate = new Date(); \n  totalCredits: number = 0;\n  total_1A: number = 0;\n  total_1A_base: number = 0;\n  total_ME_1A: number = 0;\n  total_RM_1A: number = 0;\n  dupSubtractFromTotal = 0;\n  public collectionName: string = \"TOMA CME Cycle 18-20\"; // Firebase Collection\n  alreadySigned: boolean = false;\n  printOption: boolean = true; // when true, do not go into Print Format\n  isAdmin: boolean \n    // =====================================\n    associationName: string\n    conferenceName: string\n    longConferenceName: string\n    introContent: string\n    dateAndLocation: string\n    endContent: string\n    inquiryInfo: string\n    mailTo: string\n\n  constructor(\n    public confProv: ConfDaysProcessesProvider,\n    //private cookieService: CookieService,\n    public navParams: NavParams,\n    private _ALERT  : AlertController,\n    private _DB: DatabaseProvider,\n    public srk: SrkServicesProvider,\n    private cookieService: CookieService) \n    {\n\n\n      this.conferenceName = this.navParams.get('param1');\n\n      console.log('what conference short name is being passed in?' + this.conferenceName)\n\n      this.associationName = \"Texas Osteopathic Medical Association\"\n      this.collectionName = \"TOMA CME Cycle 18-20\"\n  \n      if (this.conferenceName === \"ttac12\") {\n        this.introContent = \"TOMA provides the information below which serves as documentation for CME activity completion and should be retained for your personal records.\"\n        this.longConferenceName = \"TOMA/TXACOFP 12th Annual Convention\"\n        this.dateAndLocation = \"June 12-16, 2019 at the Sheraton Arlington Hotel; Arlington, TX,\"\n  \n        this.endContent = \"TOMA designates this program for a maximum of 22.5 AOA Category 1A CME credits (including 3 hours of Risk Management and 3 hours of Ethics).\"\n        this.inquiryInfo = \"If you have any questions, please contact the TOMA CME Office at (512) 708-8662 or email\" \n        this.mailTo = \"toma@txosteo.org\"\n      }\n  \n\n      if (this.conferenceName === \"mw_2020\") {\n        this.introContent = \"TOMA provides the information below which serves as documentation for CME activity completion and should be retained for your personal records.\"\n        this.longConferenceName = \"64th MidWinter Conference\"\n        this.dateAndLocation = \"January 30 â€“ February 2, 2020 at the Omni Mandalay Hotel in Irving, Texas,\"\n  \n        this.endContent = \"TOMA designates this activity for a maximum of 24 Category 1A AOA CME credits, including 3 Medical Ethics credits and 3 Risk Management credits. Attendees should only claim credit commensurate with the extent of their participation in the educational activity.\"\n        this.inquiryInfo = \"If you have any questions, please contact the TOMA CME Office at (512) 708-8662 or email\" \n        this.mailTo = \"toma@txosteo.org\"\n      }\n \n\n      if (this.cookieService.get('tokenTOMAAdmin')) {   \n        this.isAdmin = true;\n      }\n\n      if (this.isAdmin) {\n\n        console.log('what the what?')\n        \n              srk.getMemberProfile().then((data) => {\n                console.log('returned from getMemberProfile')\n                this.token_credential = data[0].credential;\n                //if (this.token_credential) {this.token_credential = ', ' + this.token_credential}\n                this.token_first = data[0].firstName;\n                this.token_last = data[0].lastName;\n                this.token_middle = data[0].middleName;\n                /* this.token_suffix = data[0].suffix;\n                this.token_membertype = data[0].memberType;\n                this.token_Num = data[0].aoa_num_enc; */\n        \n              });\n            } else {\n              srk.getProfileCookies().then((data) => {\n                this.token_credential = data[0].credential;\n                //if (this.token_credential) {this.token_credential = ', ' + this.token_credential}\n                this.token_first = data[0].firstName;\n                this.token_last = data[0].lastName;\n                this.token_middle = data[0].middleName;\n                this.token_suffix = data[0].suffix;\n                this.token_membertype = data[0].memberType;\n                this.token_Num = data[0].aoa_num_enc;\n        \n              });\n        \n            }\n\n        this.getReportRecords();\n  }\n\n/*   ionViewDidLoad() {\n    console.log('ionViewDidLoad ConferencesPage');\n  } */\n\n\n  getReportRecords(): void {\n    console.log('in get report top');\n\n    this.total_1A_base = 0;\n    this.total_1A = 0;\n    this.total_ME_1A = 0;\n    this.total_RM_1A = 0;\n    this.dupSubtractFromTotal = 0;\n\n    \n    this.confProv.getRecordsForCertificate(this.longConferenceName, this.collectionName).then(data => {\n      if (data) {\n        var i = 0;\n        //var k;\n\n        //console.log('no data IN REPORT?');\n\n        while (data[i] !== undefined) {\n//            console.log(\"REPORT COUNTS: \" + data[i].hours);\n\n//            hours_approved1 = parseFloat(doc.data().hours_approved1);\n\n          this.totalCredits = this.totalCredits + parseFloat(data[i].hours);\n\n          if (data[i].attested){\n//              console.log('check for attested');\n            this.alreadySigned = true;\n          }\n\n//            console.log('parseFloat(data[i].hours) ' + parseFloat(data[i].hours));\n\n          if (!isNaN(parseFloat(data[i].hours))) {\n           \n//            console.log('data[i].credit_type *** ', data[i].credit_type)\n\n           if (data[i].credit_type === \"1A\") \n          {\n           // console.log('this.total_1A', this.total_1A);\n\n            this.total_1A_base = this.total_1A_base + parseFloat(data[i].hours);\n          } \n\n          if (data[i].credit_type === \"ME_1A\")\n          {\n            this.total_ME_1A = this.total_ME_1A + parseFloat(data[i].hours);\n          }\n          if (data[i].credit_type === \"RM_1A\")\n          {\n            this.total_RM_1A = this.total_RM_1A + parseFloat(data[i].hours);\n          }\n          if (data[i].credit_type === \"ME_1A, RM_1A\")\n          {\n            this.total_RM_1A = this.total_RM_1A + parseFloat(data[i].hours);\n            //this.dupSubtractFromTotal = this.dupSubtractFromTotal +  parseFloat(data[i].hours);\n            this.total_ME_1A = this.total_ME_1A + parseFloat(data[i].hours);\n            this.dupSubtractFromTotal = this.dupSubtractFromTotal +  parseFloat(data[i].hours);\n          }\n\n          this.total_1A = this.total_1A_base + this.total_ME_1A + this.total_RM_1A - this.dupSubtractFromTotal;\n        }\n\n          i++;\n        }\n      } // END OF CHECK FOR DATA\n    });\n  }\n\n  printPage () {\n    //    console.log('this.printOption on way in after print: ' + this.printOption);\n        if (this.printOption) {\n        this.printOption = false;\n        console.log('this.printOption: ' + this.printOption);\n    \n        let alert : any     = this._ALERT.create({\n          title      : 'Print Certificate?',\n          subTitle   : '',\n          buttons    : [{\n           text      : 'Yes',\n           handler   : () =>\n           {\n            setTimeout(() => {\n             window.print();\n            }, 1000);\n           }\n         },\n         {\n          text: 'No',\n          role: 'cancel',\n          handler: () => {\n            //this.refreshPage();\n          }\n        }\n        ]\n       });\n       alert.present();\n    \n      }\n      }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/conferences/conferences.ts"]}