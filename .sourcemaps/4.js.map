{"version":3,"sources":["../../src/pages/certificate-list/certificate-list.module.ts","../../src/pages/certificate-list/certificate-list.ts"],"names":["CertificateListPageModule","__decorate","Object","__WEBPACK_IMPORTED_MODULE_0__angular_core__","declarations","__WEBPACK_IMPORTED_MODULE_2__certificate_list__","imports","__WEBPACK_IMPORTED_MODULE_1_ionic_angular__","forChild","CertificateListPage","navCtrl","navParams","srk","_ALERT","cookieService","this","ca_2018","pofps_2018","isAdmin","prototype","ionViewDidLoad","console","log","get","getCertDisplayCheck","getConferencesPage","conferenceName","push","param1","certificatePage","setCurrentUser","quickCheck","set","currentUser","HomePage","isDataGridReset","certVarName","certFullName","cycleCollection","_this","certDisplayCheck","then","data","JSON","stringify","catch","error","displayAlert","message","title","retrieve","create","subTitle","buttons","text","present","selector","template","__WEBPACK_IMPORTED_MODULE_2__providers_srk_services_srk_services__","__WEBPACK_IMPORTED_MODULE_3_ngx_cookie_service__"],"mappings":"qhBAaAA,EAAA,WAAA,SAAAA,KAAwC,OAA3BA,EAAyBC,GARrCC,OAAAC,EAAA,EAAAD,EACCE,cACEC,EAAA,GAEFC,SACEC,EAAA,EAAgBC,SAASH,EAAA,OAGhBL,GAAb,2kBCQAS,EAAA,WAQE,SAAAA,EACSC,EACAC,EACAC,EACCC,EACAC,GAJDC,KAAAL,QAAAA,EACAK,KAAAJ,UAAAA,EACAI,KAAAH,IAAAA,EACCG,KAAAF,OAAAA,EACAE,KAAAD,cAAAA,EAXVC,KAAAC,SAAmB,EACnBD,KAAAE,YAAsB,EACtBF,KAAAG,SAAmB,SAYnBT,EAAAU,UAAAC,eAAA,WACEC,QAAQC,IAAI,sCAERP,KAAKD,cAAcS,IAAI,kBACzBR,KAAKG,SAAU,GAGjBH,KAAKS,oBAAoB,UAAU,4BAA4B,wBAC/DT,KAAKS,oBAAoB,SAAS,sCAAsC,wBACxET,KAAKS,oBAAoB,UAAU,4BAA4B,0BAQjEf,EAAAU,UAAAM,mBAAA,SAAmBC,GAEfX,KAAKL,QAAQiB,KAAK,mBAChBC,OAAQF,KAKdjB,EAAAU,UAAAU,gBAAA,SAAgBH,GAGdX,KAAKL,QAAQiB,KAAK,kBAChBC,OAAQF,KAIZjB,EAAAU,UAAAW,eAAA,WAMEf,KAAKgB,WAAa,iBAkBlBhB,KAAKD,cAAckB,IAAI,eARRjB,KAAKkB,YAQ6B,WAEjDlB,KAAKS,oBAAoB,UAAU,4BAA4B,wBAC/DT,KAAKS,oBAAoB,SAAS,sCAAsC,wBACxET,KAAKS,oBAAoB,UAAU,4BAA4B,wBAE/DT,KAAKgB,WAAa,IAiClBtB,EAAAU,UAAAe,SAAA,WAGEnB,KAAKL,QAAQiB,KAAK,YAAcQ,iBAAkB,KAItD1B,EAAAU,UAAAK,oBAAA,SAAoBY,EAAaC,EAAcC,GAA/C,IAAAC,EAAAxB,KAOEA,KAAKH,IAAI4B,iBAAiBF,EAAiBD,GAC1CI,KAAK,SAACC,GAELrB,QAAQC,IAAI,+BAAiCe,GAC7ChB,QAAQC,IAAI,oDAAsDoB,GAClErB,QAAQC,IAAI,iCAAmCqB,KAAKC,UAAUF,IAC9DH,EAAKH,GAAeM,IACnBG,MAAM,SAACC,GAGPP,EAAKQ,aAAa,aAAcD,EAAME,SAAS,MAIpDvC,EAAAU,UAAA4B,aAAA,SAAaE,EACXD,EACAE,GAEkBnC,KAAKF,OAAOsC,QAClCF,MAAaA,EACbG,SAAaJ,EACbK,UACAC,KAAY,cAGNC,WAvJO9C,EAAmBR,GAR/BC,OAAAC,EAAA,EAAAD,EACCsD,SAAU,wBAAuBC,SAAA,gyFAiBbC,EAAA,EACNnD,EAAA,EACMoD,EAAA,QAZtB","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CertificateListPage } from './certificate-list';\nimport { ConferencePage } from './../conference/conference';\n\n@NgModule({\n  declarations: [\n    CertificateListPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CertificateListPage),\n  ],\n})\nexport class CertificateListPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/certificate-list/certificate-list.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, AlertController, NavParams } from 'ionic-angular';\nimport { SrkServicesProvider } from '../../providers/srk-services/srk-services';\nimport { CookieService } from 'ngx-cookie-service';\n\n/**\n * Generated class for the CertificateListPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-certificate-list',\n  templateUrl: 'certificate-list.html',\n})\n\n\n// TODO: THE NAME THAT SHOWS UP ON THESE IS THE NAME OF THE ADMIN - TAKE THE NAME OUT OR BUILD A SEARCH TO GET THE RIGHT NAME - CAN ADD A SEARCH THAT LOOKS FOR ANY RECORD BY THAT USERID WHERE THE NAME FIELDS EXIST\n\nexport class CertificateListPage {\n\n  ca_2018: boolean = false;\n  pofps_2018: boolean = false;  \n  isAdmin: boolean = false;\n  quickCheck: string;\n  currentUser: string;\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public srk: SrkServicesProvider,\n    private _ALERT  : AlertController,\n    private cookieService: CookieService ) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad CertificateListPage');\n\n    if (this.cookieService.get('tokenTOMAAdmin')) {   \n      this.isAdmin = true;\n    } else {\n\n    this.getCertDisplayCheck('mw_2019','63rd MidWinter Conference',\"TOMA CME Cycle 18-20\");\n    this.getCertDisplayCheck('ttac12','TOMA/TXACOFP 12th Annual Convention',\"TOMA CME Cycle 18-20\");\n    this.getCertDisplayCheck('mw_2020','64th MidWinter Conference',\"TOMA CME Cycle 18-20\");\n\n    /* this.getCertDisplayCheck('pofps_2018','POFPS 43rd Annual CME Symposium',\"POMA CME Records\"); */\n\n    }\n\n  }\n\n  getConferencesPage(conferenceName)\n  {\n      this.navCtrl.push('ConferencesPage', {\n        param1: conferenceName\n      });\n  }\n\n\n  certificatePage(conferenceName) \n  {\n    // alert('conf name: ' + conferenceName);\n    this.navCtrl.push('ConferencePage', {\n      param1: conferenceName\n    });\n  }\n\n  setCurrentUser(){\n    \n    //currentUserField\n\n    //alert('currentUserField' + this.currentUser)\n\n    this.quickCheck = 'Quick Check...'\n    \n//    <HTMLElement>document.getElementById(this.zBoxes[i].boxID);\n\n\n    \n    /* alert('var from input box: ' + <HTMLElement>document.getElementById(\"currentUserField\").value)\n\n    var memberAdminControl = (<HTMLInputElement>document.getElementById(\"member_id\")).value; */\n\n    var testUser = this.currentUser //(<HTMLInputElement>document.getElementById(\"currentUserField\")).value;\n\n//    alert('testUser ' + testUser)\n\n//    var testUser = document.getElementById(\"currentUserField\").value;\n\n\n    // THIS NEEDS TO BE AN ASYNC \n    this.cookieService.set('certTestUser', testUser, 0.02083333 );\n\n    this.getCertDisplayCheck('mw_2019','63rd MidWinter Conference',\"TOMA CME Cycle 18-20\");\n    this.getCertDisplayCheck('ttac12','TOMA/TXACOFP 12th Annual Convention',\"TOMA CME Cycle 18-20\");\n    this.getCertDisplayCheck('mw_2020','64th MidWinter Conference',\"TOMA CME Cycle 18-20\");\n\n    this.quickCheck = ''\n\n/*     let testUserRetrieved = this.cookieService.get('certTestUser');\n        \n    Promise.all([testUserRetrieved]).then((values) => {\n\n\n      alert('testUser |' + values[0] + '|')\n\n      this.getCertDisplayCheck('ca_2018','Clinical Assembly 2018',\"POMA CME Records\");\n      this.getCertDisplayCheck('pofps_2018','POFPS 43rd Annual CME Symposium',\"POMA CME Records\");\n\n      this.quickCheck = ''\n\n    }) */\n\n\n\n    //let certTestUser = this.cookieService.get('certTestUser');\n    //alert('set test user from certificate-list: ' + testUser)\n    \n    /* Promise.all([certTestUser]).then((values) => {\n       \n      this.allowCertView = true;\n      alert('Certificate User changed to: ' + certTestUser);\n\n    }); */\n\n    \n\n\n    }\n\n    HomePage() {\n      //window.history.replaceState(null, null, window.location.pathname);\n      //alert('calling manage docs HomePage');\n      this.navCtrl.push('HomePage', { isDataGridReset : true });\n      //resetDataGrid\n      }\n\n  getCertDisplayCheck(certVarName, certFullName, cycleCollection) {\n\n//    console.log('certVarName |'+ certVarName + '|');\n//    console.log('getCertDisplayCheck', certFullName);\n\n//    var attendedConference = false;\n\n    this.srk.certDisplayCheck(cycleCollection, certFullName) // change back to this.de_enc_user\n    .then((data : any) =>\n    {\n      console.log('we have data in certs page: ' + certFullName)\n      console.log('non JSON stringified data from certificate-list: ' + data)\n      console.log('getCertDisplayCheck, all data ' + JSON.stringify(data))\n      this[certVarName] = data; // CREATES DYNAMIC VARIABLE NAME FROM certVarName passed in\n    }).catch((error : any) =>\n    {\n//       console.log('data error', error.message);\n       this.displayAlert('Data Error', error.message, false);\n    }); \n  }/*  */\n\n  displayAlert(title      : string,\n    message    : string,\n    retrieve   : boolean) : void\n{\nlet alert : any     = this._ALERT.create({\ntitle      : title,\nsubTitle   : message,\nbuttons    : [{\ntext      : 'Got It!'\n}]\n});\nalert.present();\n}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/certificate-list/certificate-list.ts"]}